{"ast":null,"code":"var _jsxFileName = \"D:\\\\codes\\\\PocketFlow-Tutorial-Codebase-Knowledge\\\\paul\\\\mj\\\\frontend\\\\src\\\\components\\\\GameBoard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useGameStore, selectMyHand, selectDiscardedTiles } from '../stores/gameStore';\nimport { TileType, createTile, tilesEqual, MeldType, GangType } from '../types/mahjong';\nimport MahjongTile from './MahjongTile';\nimport MahjongTable from './MahjongTable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GameBoard = ({\n  className,\n  cardBackStyle = 'elegant'\n}) => {\n  _s();\n  const myHand = useGameStore(selectMyHand());\n  const discardedTiles = useGameStore(selectDiscardedTiles());\n  const {\n    addTileToHand,\n    removeTileFromHand,\n    addDiscardedTile,\n    addMeld\n  } = useGameStore();\n  const [selectedTiles, setSelectedTiles] = useState([]);\n  const [selectedPlayer, setSelectedPlayer] = useState(0); // 默认选择上家（显示索引0）\n  const [operationType, setOperationType] = useState('hand');\n  const [selectedSourcePlayer, setSelectedSourcePlayer] = useState(null); // 新增：被杠玩家选择\n\n  // 所有可选的牌\n  const availableTiles = [];\n\n  // 万 1-9\n  for (let i = 1; i <= 9; i++) {\n    availableTiles.push(createTile(TileType.WAN, i));\n  }\n\n  // 条 1-9\n  for (let i = 1; i <= 9; i++) {\n    availableTiles.push(createTile(TileType.TIAO, i));\n  }\n\n  // 筒 1-9\n  for (let i = 1; i <= 9; i++) {\n    availableTiles.push(createTile(TileType.TONG, i));\n  }\n  const handleTileClick = tile => {\n    const actualPlayerId = displayOrder[selectedPlayer]; // 转换显示索引为实际Player ID\n\n    if (operationType === 'hand') {\n      // 为当前选中的玩家添加手牌\n      addTileToHand(actualPlayerId, tile);\n    } else if (operationType === 'discard') {\n      addDiscardedTile(tile, actualPlayerId);\n    } else if (operationType === 'peng') {\n      // 碰牌：创建碰牌组并添加到melds\n      const meld = {\n        type: MeldType.PENG,\n        tiles: [tile, tile, tile],\n        exposed: true\n      };\n      addMeld(actualPlayerId, meld);\n    } else if (operationType === 'angang') {\n      // 暗杠：创建暗杠组并添加到melds\n      const meld = {\n        type: MeldType.GANG,\n        tiles: [tile, tile, tile, tile],\n        exposed: false,\n        gang_type: GangType.AN_GANG\n      };\n      addMeld(actualPlayerId, meld);\n    } else if (operationType === 'zhigang') {\n      // 直杠：创建明杠组并添加到melds\n      const meld = {\n        type: MeldType.GANG,\n        tiles: [tile, tile, tile, tile],\n        exposed: true,\n        gang_type: GangType.MING_GANG,\n        source_player: selectedSourcePlayer !== null ? displayOrder[selectedSourcePlayer] : undefined\n      };\n      addMeld(actualPlayerId, meld);\n    } else if (operationType === 'jiagang') {\n      // 加杠：创建明杠组并添加到melds\n      const meld = {\n        type: MeldType.GANG,\n        tiles: [tile, tile, tile, tile],\n        exposed: true,\n        gang_type: GangType.JIA_GANG // 使用JIA_GANG类型\n      };\n      addMeld(actualPlayerId, meld);\n    }\n  };\n  const handleHandTileClick = tile => {\n    const isSelected = selectedTiles.some(t => tilesEqual(t, tile));\n    if (isSelected) {\n      setSelectedTiles(prev => prev.filter(t => !tilesEqual(t, tile)));\n    } else {\n      setSelectedTiles(prev => [...prev, tile]);\n    }\n  };\n  const handleDiscardSelected = () => {\n    selectedTiles.forEach(tile => {\n      removeTileFromHand(0, tile);\n      addDiscardedTile(tile, 0);\n    });\n    setSelectedTiles([]);\n  };\n  const handleClearHand = () => {\n    useGameStore.getState().resetGame();\n    setSelectedTiles([]);\n  };\n\n  // 处理操作类型改变\n  const handleOperationTypeChange = newOperationType => {\n    setOperationType(newOperationType);\n    // 如果不是直杠操作，清除被杠玩家的选择\n    if (newOperationType !== 'zhigang') {\n      setSelectedSourcePlayer(null);\n    }\n  };\n  const playerNames = ['我', '下家', '对家', '上家']; // Player ID映射：0=我，1=下家，2=对家，3=上家\n  const playerColors = ['text-blue-600', 'text-green-600', 'text-red-600', 'text-yellow-600'];\n\n  // 用于界面显示的玩家顺序：上家、我、下家、对家\n  const displayOrder = [3, 0, 1, 2]; // 对应Player ID：上家=3，我=0，下家=1，对家=2\n  const displayNames = displayOrder.map(id => playerNames[id]);\n  const displayColors = displayOrder.map(id => playerColors[id]);\n\n  // 获取可选择的被杠玩家（排除当前杠牌的玩家）\n  const getAvailableSourcePlayers = () => {\n    return displayNames.map((name, index) => ({\n      name,\n      index\n    })).filter(player => player.index !== selectedPlayer);\n  };\n\n  // 获取操作类型的中文名称\n  const getOperationName = type => {\n    const operationMap = {\n      'hand': '添加手牌',\n      'discard': '弃牌',\n      'peng': '碰牌',\n      'angang': '暗杠',\n      'zhigang': '直杠',\n      'jiagang': '加杠'\n    };\n    return operationMap[type] || type;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `bg-green-100 rounded-lg p-3 h-full flex flex-col ${className}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-3 border border-gray-300 mb-3\",\n      children: /*#__PURE__*/_jsxDEV(MahjongTable, {\n        cardBackStyle: cardBackStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3 flex-shrink-0\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-6 flex-wrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium text-gray-700 min-w-max\",\n              children: \"\\u2460 \\u9009\\u62E9\\u73A9\\u5BB6:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-1\",\n              children: displayNames.map((name, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedPlayer(index),\n                className: `px-3 py-2 rounded-md text-sm font-medium transition-colors ${selectedPlayer === index ? `bg-opacity-20 ${displayColors[index].replace('text-', 'bg-').replace('-600', '-200')} ${displayColors[index]} border-2 border-current` : 'bg-gray-100 text-gray-600 hover:bg-gray-200 border-2 border-transparent'}`,\n                children: name\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium text-gray-700 min-w-max\",\n              children: \"\\u2461 \\u9009\\u62E9\\u64CD\\u4F5C:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex bg-gray-200 rounded-lg p-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleOperationTypeChange('hand'),\n                className: `px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${operationType === 'hand' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-600 hover:text-gray-800'}`,\n                children: \"\\u6DFB\\u52A0\\u624B\\u724C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleOperationTypeChange('discard'),\n                className: `px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${operationType === 'discard' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-600 hover:text-gray-800'}`,\n                children: \"\\u5F03\\u724C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleOperationTypeChange('peng'),\n                className: `px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${operationType === 'peng' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-600 hover:text-gray-800'}`,\n                children: \"\\u78B0\\u724C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleOperationTypeChange('angang'),\n                className: `px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${operationType === 'angang' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-600 hover:text-gray-800'}`,\n                children: \"\\u6697\\u6760\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleOperationTypeChange('zhigang'),\n                className: `px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${operationType === 'zhigang' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-600 hover:text-gray-800'}`,\n                children: \"\\u76F4\\u6760\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleOperationTypeChange('jiagang'),\n                className: `px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${operationType === 'jiagang' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-600 hover:text-gray-800'}`,\n                children: \"\\u52A0\\u6760\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), operationType === 'zhigang' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3 pl-6 border-l-2 border-blue-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-700 min-w-max\",\n            children: \"2.1 \\u9009\\u62E9\\u88AB\\u6760\\u73A9\\u5BB6:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-1\",\n            children: getAvailableSourcePlayers().map(({\n              name,\n              index\n            }) => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedSourcePlayer(index),\n              className: `px-3 py-2 rounded-md text-sm font-medium transition-colors ${selectedSourcePlayer === index ? `bg-opacity-20 ${displayColors[index].replace('text-', 'bg-').replace('-600', '-200')} ${displayColors[index]} border-2 border-current` : 'bg-gray-100 text-gray-600 hover:bg-gray-200 border-2 border-transparent'}`,\n              children: name\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-3 border border-gray-300 flex-1 overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-base font-semibold text-gray-700\",\n          children: \"3 \\u9009\\u62E9\\u9EBB\\u5C06\\u724C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 px-3 py-1.5 bg-blue-50 border border-blue-200 rounded-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-blue-500 rounded-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-blue-700\",\n            children: [\"\\u5F53\\u524D\\u64CD\\u4F5C: \\u4E3A \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: displayNames[selectedPlayer]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 23\n            }, this), \" \", getOperationName(operationType), operationType === 'zhigang' && selectedSourcePlayer !== null && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\" (\\u4ECE \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: displayNames[selectedSourcePlayer]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 27\n              }, this), \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-0.5 flex-wrap\",\n          children: availableTiles.map((tile, index) => {\n            return /*#__PURE__*/_jsxDEV(MahjongTile, {\n              tile: tile,\n              size: \"small\",\n              variant: \"default\",\n              onClick: () => handleTileClick(tile),\n              animationDelay: index * 0.02,\n              cardBackStyle: cardBackStyle\n            }, `tile-${tile.type}-${tile.value}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this);\n};\n_s(GameBoard, \"9hduTW0DALsutEUX1HdwoRrGB6E=\", false, function () {\n  return [useGameStore, useGameStore, useGameStore];\n});\n_c = GameBoard;\nexport default GameBoard;\nvar _c;\n$RefreshReg$(_c, \"GameBoard\");","map":{"version":3,"names":["React","useState","useGameStore","selectMyHand","selectDiscardedTiles","TileType","createTile","tilesEqual","MeldType","GangType","MahjongTile","MahjongTable","jsxDEV","_jsxDEV","GameBoard","className","cardBackStyle","_s","myHand","discardedTiles","addTileToHand","removeTileFromHand","addDiscardedTile","addMeld","selectedTiles","setSelectedTiles","selectedPlayer","setSelectedPlayer","operationType","setOperationType","selectedSourcePlayer","setSelectedSourcePlayer","availableTiles","i","push","WAN","TIAO","TONG","handleTileClick","tile","actualPlayerId","displayOrder","meld","type","PENG","tiles","exposed","GANG","gang_type","AN_GANG","MING_GANG","source_player","undefined","JIA_GANG","handleHandTileClick","isSelected","some","t","prev","filter","handleDiscardSelected","forEach","handleClearHand","getState","resetGame","handleOperationTypeChange","newOperationType","playerNames","playerColors","displayNames","map","id","displayColors","getAvailableSourcePlayers","name","index","player","getOperationName","operationMap","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","replace","size","variant","animationDelay","value","_c","$RefreshReg$"],"sources":["D:/codes/PocketFlow-Tutorial-Codebase-Knowledge/paul/mj/frontend/src/components/GameBoard.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { AnimatePresence } from 'framer-motion';\nimport { useGameStore, selectMyHand, selectDiscardedTiles } from '../stores/gameStore';\nimport { Tile, TileType, createTile, tileToString, tilesEqual, Meld, MeldType, GangType } from '../types/mahjong';\nimport MahjongTile from './MahjongTile';\nimport MahjongTable from './MahjongTable';\nimport { CardBackStyle } from './MahjongTile';\n\ninterface GameBoardProps {\n  className?: string;\n  cardBackStyle?: CardBackStyle;\n}\n\nconst GameBoard: React.FC<GameBoardProps> = ({ className, cardBackStyle = 'elegant' }) => {\n  const myHand = useGameStore(selectMyHand());\n  const discardedTiles = useGameStore(selectDiscardedTiles());\n  const { addTileToHand, removeTileFromHand, addDiscardedTile, addMeld } = useGameStore();\n  \n  const [selectedTiles, setSelectedTiles] = useState<Tile[]>([]);\n  const [selectedPlayer, setSelectedPlayer] = useState<number>(0); // 默认选择上家（显示索引0）\n  const [operationType, setOperationType] = useState<'hand' | 'discard' | 'peng' | 'angang' | 'zhigang' | 'jiagang'>('hand');\n  const [selectedSourcePlayer, setSelectedSourcePlayer] = useState<number | null>(null); // 新增：被杠玩家选择\n  \n  // 所有可选的牌\n  const availableTiles: Tile[] = [];\n  \n  // 万 1-9\n  for (let i = 1; i <= 9; i++) {\n    availableTiles.push(createTile(TileType.WAN, i));\n  }\n  \n  // 条 1-9\n  for (let i = 1; i <= 9; i++) {\n    availableTiles.push(createTile(TileType.TIAO, i));\n  }\n  \n  // 筒 1-9\n  for (let i = 1; i <= 9; i++) {\n    availableTiles.push(createTile(TileType.TONG, i));\n  }\n\n  const handleTileClick = (tile: Tile) => {\n    const actualPlayerId = displayOrder[selectedPlayer]; // 转换显示索引为实际Player ID\n    \n    if (operationType === 'hand') {\n      // 为当前选中的玩家添加手牌\n      addTileToHand(actualPlayerId, tile);\n    } else if (operationType === 'discard') {\n      addDiscardedTile(tile, actualPlayerId);\n    } else if (operationType === 'peng') {\n      // 碰牌：创建碰牌组并添加到melds\n      const meld: Meld = {\n        type: MeldType.PENG,\n        tiles: [tile, tile, tile],\n        exposed: true\n      };\n      addMeld(actualPlayerId, meld);\n    } else if (operationType === 'angang') {\n      // 暗杠：创建暗杠组并添加到melds\n      const meld: Meld = {\n        type: MeldType.GANG,\n        tiles: [tile, tile, tile, tile],\n        exposed: false,\n        gang_type: GangType.AN_GANG\n      };\n      addMeld(actualPlayerId, meld);\n    } else if (operationType === 'zhigang') {\n      // 直杠：创建明杠组并添加到melds\n      const meld: Meld = {\n        type: MeldType.GANG,\n        tiles: [tile, tile, tile, tile],\n        exposed: true,\n        gang_type: GangType.MING_GANG,\n        source_player: selectedSourcePlayer !== null ? displayOrder[selectedSourcePlayer] : undefined\n      };\n      addMeld(actualPlayerId, meld);\n    } else if (operationType === 'jiagang') {\n      // 加杠：创建明杠组并添加到melds\n      const meld: Meld = {\n        type: MeldType.GANG,\n        tiles: [tile, tile, tile, tile],\n        exposed: true,\n        gang_type: GangType.JIA_GANG  // 使用JIA_GANG类型\n      };\n      addMeld(actualPlayerId, meld);\n    }\n  };\n  \n  const handleHandTileClick = (tile: Tile) => {\n    const isSelected = selectedTiles.some(t => tilesEqual(t, tile));\n    \n    if (isSelected) {\n      setSelectedTiles(prev => prev.filter(t => !tilesEqual(t, tile)));\n    } else {\n      setSelectedTiles(prev => [...prev, tile]);\n    }\n  };\n  \n  const handleDiscardSelected = () => {\n    selectedTiles.forEach(tile => {\n      removeTileFromHand(0, tile);\n      addDiscardedTile(tile, 0);\n    });\n    setSelectedTiles([]);\n  };\n  \n  const handleClearHand = () => {\n    useGameStore.getState().resetGame();\n    setSelectedTiles([]);\n  };\n\n  // 处理操作类型改变\n  const handleOperationTypeChange = (newOperationType: 'hand' | 'discard' | 'peng' | 'angang' | 'zhigang' | 'jiagang') => {\n    setOperationType(newOperationType);\n    // 如果不是直杠操作，清除被杠玩家的选择\n    if (newOperationType !== 'zhigang') {\n      setSelectedSourcePlayer(null);\n    }\n  };\n\n  const playerNames = ['我', '下家', '对家', '上家']; // Player ID映射：0=我，1=下家，2=对家，3=上家\n  const playerColors = ['text-blue-600', 'text-green-600', 'text-red-600', 'text-yellow-600'];\n  \n  // 用于界面显示的玩家顺序：上家、我、下家、对家\n  const displayOrder = [3, 0, 1, 2]; // 对应Player ID：上家=3，我=0，下家=1，对家=2\n  const displayNames = displayOrder.map(id => playerNames[id]);\n  const displayColors = displayOrder.map(id => playerColors[id]);\n\n  // 获取可选择的被杠玩家（排除当前杠牌的玩家）\n  const getAvailableSourcePlayers = () => {\n    return displayNames\n      .map((name, index) => ({ name, index }))\n      .filter(player => player.index !== selectedPlayer);\n  };\n\n  // 获取操作类型的中文名称\n  const getOperationName = (type: 'hand' | 'discard' | 'peng' | 'angang' | 'zhigang' | 'jiagang'): string => {\n    const operationMap = {\n      'hand': '添加手牌',\n      'discard': '弃牌',\n      'peng': '碰牌',\n      'angang': '暗杠',\n      'zhigang': '直杠',\n      'jiagang': '加杠'\n    };\n    return operationMap[type] || type;\n  };\n\n  return (\n    <div className={`bg-green-100 rounded-lg p-3 h-full flex flex-col ${className}`}>\n      {/* 麻将桌布局 - 与选择麻将牌区域相同的宽度 */}\n      <div className=\"bg-white rounded-lg p-3 border border-gray-300 mb-3\">\n        <MahjongTable cardBackStyle={cardBackStyle} />\n      </div>\n      \n      {/* 操作控制区域 */}\n      <div className=\"mb-3 flex-shrink-0\">\n        <div className=\"flex flex-col gap-3\">\n          \n          {/* 第一行：选择玩家和选择操作 */}\n          <div className=\"flex items-center gap-6 flex-wrap\">\n            {/* 第一步：选择玩家 */}\n            <div className=\"flex items-center gap-3\">\n              <span className=\"text-sm font-medium text-gray-700 min-w-max\">\n                ① 选择玩家:\n              </span>\n              <div className=\"flex gap-1\">\n                {displayNames.map((name, index) => (\n                  <button\n                    key={index}\n                    onClick={() => setSelectedPlayer(index)}\n                    className={`px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n                      selectedPlayer === index\n                        ? `bg-opacity-20 ${displayColors[index].replace('text-', 'bg-').replace('-600', '-200')} ${displayColors[index]} border-2 border-current`\n                        : 'bg-gray-100 text-gray-600 hover:bg-gray-200 border-2 border-transparent'\n                    }`}\n                  >\n                    {name}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* 第二步：选择操作类型 */}\n            <div className=\"flex items-center gap-3\">\n              <span className=\"text-sm font-medium text-gray-700 min-w-max\">\n                ② 选择操作:\n              </span>\n              <div className=\"flex bg-gray-200 rounded-lg p-1\">\n                <button\n                  onClick={() => handleOperationTypeChange('hand')}\n                  className={`px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${\n                    operationType === 'hand'\n                      ? 'bg-white text-blue-600 shadow-sm'\n                      : 'text-gray-600 hover:text-gray-800'\n                  }`}\n                >\n                  添加手牌\n                </button>\n                <button\n                  onClick={() => handleOperationTypeChange('discard')}\n                  className={`px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${\n                    operationType === 'discard'\n                      ? 'bg-white text-blue-600 shadow-sm'\n                      : 'text-gray-600 hover:text-gray-800'\n                  }`}\n                >\n                  弃牌\n                </button>\n                <button\n                  onClick={() => handleOperationTypeChange('peng')}\n                  className={`px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${\n                    operationType === 'peng'\n                      ? 'bg-white text-blue-600 shadow-sm'\n                      : 'text-gray-600 hover:text-gray-800'\n                  }`}\n                >\n                  碰牌\n                </button>\n                <button\n                  onClick={() => handleOperationTypeChange('angang')}\n                  className={`px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${\n                    operationType === 'angang'\n                      ? 'bg-white text-blue-600 shadow-sm'\n                      : 'text-gray-600 hover:text-gray-800'\n                  }`}\n                >\n                  暗杠\n                </button>\n                <button\n                  onClick={() => handleOperationTypeChange('zhigang')}\n                  className={`px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${\n                    operationType === 'zhigang'\n                      ? 'bg-white text-blue-600 shadow-sm'\n                      : 'text-gray-600 hover:text-gray-800'\n                  }`}\n                >\n                  直杠\n                </button>\n                <button\n                  onClick={() => handleOperationTypeChange('jiagang')}\n                  className={`px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${\n                    operationType === 'jiagang'\n                      ? 'bg-white text-blue-600 shadow-sm'\n                      : 'text-gray-600 hover:text-gray-800'\n                  }`}\n                >\n                  加杠\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* 2.1 选择被杠玩家 - 只有选择直杠时显示 */}\n          {operationType === 'zhigang' && (\n            <div className=\"flex items-center gap-3 pl-6 border-l-2 border-blue-200\">\n              <span className=\"text-sm font-medium text-gray-700 min-w-max\">\n                2.1 选择被杠玩家:\n              </span>\n              <div className=\"flex gap-1\">\n                {getAvailableSourcePlayers().map(({ name, index }) => (\n                  <button\n                    key={index}\n                    onClick={() => setSelectedSourcePlayer(index)}\n                    className={`px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n                      selectedSourcePlayer === index\n                        ? `bg-opacity-20 ${displayColors[index].replace('text-', 'bg-').replace('-600', '-200')} ${displayColors[index]} border-2 border-current`\n                        : 'bg-gray-100 text-gray-600 hover:bg-gray-200 border-2 border-transparent'\n                    }`}\n                  >\n                    {name}\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* 麻将牌选择区 - 可滚动，占用剩余空间 */}\n      <div className=\"bg-white rounded-lg p-3 border border-gray-300 flex-1 overflow-y-auto\">\n        <div className=\"flex items-center gap-4 mb-3\">\n          <h3 className=\"text-base font-semibold text-gray-700\">\n            3 选择麻将牌\n          </h3>\n          \n          {/* 当前操作状态提示 */}\n          <div className=\"flex items-center gap-2 px-3 py-1.5 bg-blue-50 border border-blue-200 rounded-md\">\n            <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\n            <span className=\"text-sm text-blue-700\">\n              当前操作: 为 <span className=\"font-medium\">{displayNames[selectedPlayer]}</span> {getOperationName(operationType)}\n              {operationType === 'zhigang' && selectedSourcePlayer !== null && (\n                <span> (从 <span className=\"font-medium\">{displayNames[selectedSourcePlayer]}</span>)</span>\n              )}\n            </span>\n          </div>\n        </div>\n        \n        {/* 所有麻将牌一列显示 */}\n        <div>\n          <div className=\"flex gap-0.5 flex-wrap\">\n            {availableTiles.map((tile, index) => {\n              return (\n                <MahjongTile\n                  key={`tile-${tile.type}-${tile.value}`}\n                  tile={tile}\n                  size=\"small\"\n                  variant=\"default\"\n                  onClick={() => handleTileClick(tile)}\n                  animationDelay={index * 0.02}\n                  cardBackStyle={cardBackStyle}\n                />\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default GameBoard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}