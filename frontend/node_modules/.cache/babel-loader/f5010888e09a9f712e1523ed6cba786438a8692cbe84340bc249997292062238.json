{"ast":null,"code":"var _jsxFileName = \"D:\\\\codes\\\\PocketFlow-Tutorial-Codebase-Knowledge\\\\paul\\\\mj\\\\frontend\\\\src\\\\components\\\\MahjongTile.tsx\";\nimport React from 'react';\nimport { motion } from 'framer-motion';\nimport classNames from 'classnames';\nimport { tileToString, TileType } from '../types/mahjong';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MahjongTile = ({\n  tile,\n  size = 'medium',\n  variant = 'default',\n  onClick,\n  onDoubleClick,\n  className,\n  showBackground = true,\n  animationDelay = 0,\n  seamless = false,\n  direction = 'horizontal'\n}) => {\n  const tileText = tileToString(tile);\n\n  // 尺寸样式\n  const sizeClasses = {\n    tiny: 'w-6 h-8 text-xs',\n    small: 'w-8 h-10 text-xs',\n    medium: 'w-12 h-16 text-sm',\n    large: 'w-16 h-20 text-base'\n  };\n\n  // 变体样式\n  const variantClasses = {\n    default: 'bg-white border-gray-300 text-gray-800 hover:bg-gray-50',\n    selected: 'bg-blue-100 border-blue-400 text-blue-800 ring-2 ring-blue-300',\n    recommended: 'bg-green-100 border-green-400 text-green-800 ring-2 ring-green-300 animate-pulse',\n    disabled: 'bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed',\n    back: 'bg-gradient-to-br from-green-600 to-green-800 border-green-700 cursor-not-allowed'\n  };\n\n  // 花色颜色\n  const getTypeColor = tileType => {\n    switch (tileType) {\n      case TileType.WAN:\n        return 'text-blue-600';\n      case TileType.TIAO:\n        return 'text-green-600';\n      case TileType.TONG:\n        return 'text-red-600';\n      case TileType.ZI:\n        return 'text-purple-600';\n      default:\n        return 'text-gray-600';\n    }\n  };\n\n  // 根据方向和seamless属性生成边框和圆角样式\n  const getSeamlessClasses = () => {\n    if (!seamless) {\n      return 'border-2 rounded-lg';\n    }\n    if (direction === 'horizontal') {\n      // 水平方向：移除右边框，只有最后一个元素有右边框\n      return 'border-2 border-r-0 last:border-r-2 rounded-none first:rounded-l-lg last:rounded-r-lg';\n    } else {\n      // 垂直方向：移除下边框，只有最后一个元素有下边框\n      return 'border-2 border-b-0 last:border-b-2 rounded-none first:rounded-t-lg last:rounded-b-lg';\n    }\n  };\n  const baseClasses = classNames('relative flex items-center justify-center', getSeamlessClasses(), 'cursor-pointer', 'font-bold select-none transition-all duration-200', seamless ? '' : 'shadow-sm hover:shadow-md', sizeClasses[size], variantClasses[variant], variant === 'back' ? 'text-white' : getTypeColor(tile.type), {\n    'active:scale-95': onClick && variant !== 'disabled' && variant !== 'back' && !seamless\n  }, className);\n  const handleClick = () => {\n    if (variant !== 'disabled' && variant !== 'back' && onClick) {\n      onClick();\n    }\n  };\n  const handleDoubleClick = () => {\n    if (variant !== 'disabled' && variant !== 'back' && onDoubleClick) {\n      onDoubleClick();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: baseClasses,\n    onClick: handleClick,\n    onDoubleClick: handleDoubleClick,\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    transition: {\n      duration: 0.3,\n      delay: animationDelay,\n      type: \"spring\",\n      stiffness: 120\n    },\n    whileTap: onClick && variant !== 'disabled' && variant !== 'back' ? {\n      scale: 0.95\n    } : {},\n    children: [showBackground && variant !== 'back' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-lg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this), variant === 'back' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10 flex flex-col items-center justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-white font-bold text-xs opacity-90\",\n        children: \"\\uD83C\\uDC04\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-0.5 bg-white/30 my-0.5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-white font-bold text-xs opacity-90\",\n        children: \"\\uD83C\\uDC04\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this) :\n    /*#__PURE__*/\n    /* 牌面文字 */\n    _jsxDEV(\"span\", {\n      className: \"relative z-10 font-black\",\n      children: tileText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }, this), variant === 'recommended' && /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full\",\n      animate: {\n        scale: [1, 1.2, 1],\n        opacity: [1, 0.7, 1]\n      },\n      transition: {\n        duration: 1.5,\n        repeat: Infinity,\n        ease: \"easeInOut\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }, this), variant === 'selected' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n_c = MahjongTile;\nexport default MahjongTile;\nvar _c;\n$RefreshReg$(_c, \"MahjongTile\");","map":{"version":3,"names":["React","motion","classNames","tileToString","TileType","jsxDEV","_jsxDEV","MahjongTile","tile","size","variant","onClick","onDoubleClick","className","showBackground","animationDelay","seamless","direction","tileText","sizeClasses","tiny","small","medium","large","variantClasses","default","selected","recommended","disabled","back","getTypeColor","tileType","WAN","TIAO","TONG","ZI","getSeamlessClasses","baseClasses","type","handleClick","handleDoubleClick","div","initial","opacity","y","animate","transition","duration","delay","stiffness","whileTap","scale","children","fileName","_jsxFileName","lineNumber","columnNumber","repeat","Infinity","ease","_c","$RefreshReg$"],"sources":["D:/codes/PocketFlow-Tutorial-Codebase-Knowledge/paul/mj/frontend/src/components/MahjongTile.tsx"],"sourcesContent":["import React from 'react';\nimport { motion } from 'framer-motion';\nimport classNames from 'classnames';\nimport { Tile, tileToString, TileType } from '../types/mahjong';\n\ninterface MahjongTileProps {\n  tile: Tile;\n  size?: 'tiny' | 'small' | 'medium' | 'large';\n  variant?: 'default' | 'selected' | 'recommended' | 'disabled' | 'back';\n  onClick?: () => void;\n  onDoubleClick?: () => void;\n  className?: string;\n  showBackground?: boolean;\n  animationDelay?: number;\n  seamless?: boolean;\n  direction?: 'horizontal' | 'vertical';\n}\n\nconst MahjongTile: React.FC<MahjongTileProps> = ({\n  tile,\n  size = 'medium',\n  variant = 'default',\n  onClick,\n  onDoubleClick,\n  className,\n  showBackground = true,\n  animationDelay = 0,\n  seamless = false,\n  direction = 'horizontal'\n}) => {\n  const tileText = tileToString(tile);\n  \n  // 尺寸样式\n  const sizeClasses = {\n    tiny: 'w-6 h-8 text-xs',\n    small: 'w-8 h-10 text-xs',\n    medium: 'w-12 h-16 text-sm',\n    large: 'w-16 h-20 text-base'\n  };\n  \n  // 变体样式\n  const variantClasses = {\n    default: 'bg-white border-gray-300 text-gray-800 hover:bg-gray-50',\n    selected: 'bg-blue-100 border-blue-400 text-blue-800 ring-2 ring-blue-300',\n    recommended: 'bg-green-100 border-green-400 text-green-800 ring-2 ring-green-300 animate-pulse',\n    disabled: 'bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed',\n    back: 'bg-gradient-to-br from-green-600 to-green-800 border-green-700 cursor-not-allowed'\n  };\n  \n  // 花色颜色\n  const getTypeColor = (tileType: TileType): string => {\n    switch (tileType) {\n      case TileType.WAN:\n        return 'text-blue-600';\n      case TileType.TIAO:\n        return 'text-green-600';\n      case TileType.TONG:\n        return 'text-red-600';\n      case TileType.ZI:\n        return 'text-purple-600';\n      default:\n        return 'text-gray-600';\n    }\n  };\n  \n  // 根据方向和seamless属性生成边框和圆角样式\n  const getSeamlessClasses = () => {\n    if (!seamless) {\n      return 'border-2 rounded-lg';\n    }\n    \n    if (direction === 'horizontal') {\n      // 水平方向：移除右边框，只有最后一个元素有右边框\n      return 'border-2 border-r-0 last:border-r-2 rounded-none first:rounded-l-lg last:rounded-r-lg';\n    } else {\n      // 垂直方向：移除下边框，只有最后一个元素有下边框\n      return 'border-2 border-b-0 last:border-b-2 rounded-none first:rounded-t-lg last:rounded-b-lg';\n    }\n  };\n  \n  const baseClasses = classNames(\n    'relative flex items-center justify-center',\n    getSeamlessClasses(),\n    'cursor-pointer',\n    'font-bold select-none transition-all duration-200',\n    seamless ? '' : 'shadow-sm hover:shadow-md',\n    sizeClasses[size],\n    variantClasses[variant],\n    variant === 'back' ? 'text-white' : getTypeColor(tile.type),\n    {\n      'active:scale-95': onClick && variant !== 'disabled' && variant !== 'back' && !seamless\n    },\n    className\n  );\n  \n  const handleClick = () => {\n    if (variant !== 'disabled' && variant !== 'back' && onClick) {\n      onClick();\n    }\n  };\n  \n  const handleDoubleClick = () => {\n    if (variant !== 'disabled' && variant !== 'back' && onDoubleClick) {\n      onDoubleClick();\n    }\n  };\n  \n  return (\n    <motion.div\n      className={baseClasses}\n      onClick={handleClick}\n      onDoubleClick={handleDoubleClick}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ \n        duration: 0.3, \n        delay: animationDelay,\n        type: \"spring\",\n        stiffness: 120\n      }}\n      whileTap={onClick && variant !== 'disabled' && variant !== 'back' ? { scale: 0.95 } : {}}\n    >\n      {/* 背景装饰 */}\n      {showBackground && variant !== 'back' && (\n        <div className=\"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-lg\" />\n      )}\n      \n      {/* 背面图案 */}\n      {variant === 'back' ? (\n        <div className=\"relative z-10 flex flex-col items-center justify-center\">\n          <div className=\"text-white font-bold text-xs opacity-90\">🀄</div>\n          <div className=\"w-full h-0.5 bg-white/30 my-0.5\"></div>\n          <div className=\"text-white font-bold text-xs opacity-90\">🀄</div>\n        </div>\n      ) : (\n        /* 牌面文字 */\n        <span className=\"relative z-10 font-black\">\n          {tileText}\n        </span>\n      )}\n      \n      {/* 推荐标识 */}\n      {variant === 'recommended' && (\n        <motion.div\n          className=\"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full\"\n          animate={{\n            scale: [1, 1.2, 1],\n            opacity: [1, 0.7, 1]\n          }}\n          transition={{\n            duration: 1.5,\n            repeat: Infinity,\n            ease: \"easeInOut\"\n          }}\n        />\n      )}\n      \n      {/* 选中标识 */}\n      {variant === 'selected' && (\n        <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full\" />\n      )}\n    </motion.div>\n  );\n};\n\nexport default MahjongTile; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}