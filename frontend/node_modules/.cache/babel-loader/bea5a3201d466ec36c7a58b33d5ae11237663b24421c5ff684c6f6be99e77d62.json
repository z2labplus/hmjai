{"ast":null,"code":"import React,{useState}from'react';import{useGameStore,selectAnalysis,selectIsAnalyzing}from'../stores/gameStore';import{MahjongAPI}from'../utils/api';import{codeToTile,TileType}from'../types/mahjong';import MahjongTile from'./MahjongTile';import DirectKongOperator from'./DirectKongOperator';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AnalysisPanel=_ref=>{let{className}=_ref;const gameState=useGameStore(state=>state.gameState);const analysisResult=useGameStore(selectAnalysis());const isAnalyzing=useGameStore(selectIsAnalyzing());const{setAnalysisResult,setIsAnalyzing}=useGameStore();const[error,setError]=useState(null);const[showDirectKongOperator,setShowDirectKongOperator]=useState(false);// 执行分析\nconst handleAnalyze=async()=>{if(gameState.player_hands[0].tiles.length===0){setError('请先添加手牌');return;}setIsAnalyzing(true);setError(null);try{const response=await MahjongAPI.analyzeGame({game_state:gameState,target_player:0});if(response.success&&response.analysis){setAnalysisResult(response.analysis);}else{setError(response.message||'分析失败');}}catch(err){setError(err instanceof Error?err.message:'分析失败');}finally{setIsAnalyzing(false);}};// 渲染剩余牌统计\nconst renderRemainingTiles=()=>{if(!analysisResult)return null;const remainingTiles=analysisResult.remaining_tiles_count;const tileGroups={wan:[],tiao:[],tong:[],zi:[]};// 分组整理剩余牌\nObject.entries(remainingTiles).forEach(_ref2=>{let[codeStr,count]=_ref2;const code=parseInt(codeStr);if(count>0){const tile=codeToTile(code);const item={code,count,tile};if(tile.type===TileType.WAN){tileGroups.wan.push(item);}else if(tile.type===TileType.TIAO){tileGroups.tiao.push(item);}else if(tile.type===TileType.TONG){tileGroups.tong.push(item);}else if(tile.type===TileType.ZI){tileGroups.zi.push(item);}}});return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:Object.entries(tileGroups).map(_ref3=>{let[type,tiles]=_ref3;if(tiles.length===0)return null;const typeNames={wan:'万子',tiao:'条子',tong:'筒子',zi:'字牌'};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:typeNames[type]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:tiles.map(_ref4=>{let{tile,count}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(MahjongTile,{tile:tile,size:\"small\",variant:\"disabled\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\",children:count})]},tile.value);})})]},type);})});};// 渲染弃牌分数\nconst renderDiscardScores=()=>{if(!(analysisResult!==null&&analysisResult!==void 0&&analysisResult.discard_scores))return null;const scores=Object.entries(analysisResult.discard_scores).sort((_ref5,_ref6)=>{let[,a]=_ref5;let[,b]=_ref6;return b-a;})// 按分数降序排列\n.slice(0,5);// 只显示前5个\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:scores.map((_ref7,index)=>{let[tileStr,score]=_ref7;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-2 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:tileStr}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full \".concat(index===0?'bg-red-500':index===1?'bg-orange-500':'bg-gray-400'),style:{width:\"\".concat(Math.max(0,Math.min(100,(score+10)*5)),\"%\")}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 w-12 text-right\",children:score.toFixed(1)})]})]},tileStr);})});};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 h-full flex flex-col \".concat(className),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800\",children:\"\\uD83D\\uDCCA \\u667A\\u80FD\\u5206\\u6790\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDirectKongOperator(true),className:\"px-3 py-2 bg-red-500 text-white rounded-lg font-medium transition-all hover:bg-red-600 shadow-md hover:shadow-lg text-sm\",title:\"\\u76F4\\u6760\\u64CD\\u4F5C\\u5668\",children:\"\\uD83C\\uDC04 \\u76F4\\u6760\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAnalyze,disabled:isAnalyzing,className:\"px-4 py-2 rounded-lg font-medium transition-all \".concat(isAnalyzing?'bg-gray-300 text-gray-500 cursor-not-allowed':'bg-blue-500 text-white hover:bg-blue-600 shadow-md hover:shadow-lg'),children:isAnalyzing?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin\"}),\"\\u5206\\u6790\\u4E2D...\"]}):'开始分析'})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded mb-4\",children:error})]}),analysisResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 space-y-6 overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-blue-800 mb-3\",children:\"\\uD83C\\uDFAF \\u63A8\\u8350\\u5EFA\\u8BAE\"}),analysisResult.recommended_discard&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-blue-600 font-medium\",children:\"\\u5EFA\\u8BAE\\u5F03\\u724C\\uFF1A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:/*#__PURE__*/_jsx(MahjongTile,{tile:analysisResult.recommended_discard,variant:\"recommended\",size:\"medium\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-blue-600 font-medium\",children:\"\\u80E1\\u724C\\u6982\\u7387\\uFF1A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-1000\",style:{width:\"\".concat(Math.min(100,analysisResult.win_probability*100),\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-blue-800\",children:[(analysisResult.win_probability*100).toFixed(1),\"%\"]})]})]}),analysisResult.listen_tiles.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-blue-600 font-medium\",children:\"\\u542C\\u724C\\uFF1A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 flex gap-1\",children:analysisResult.listen_tiles.map((tile,index)=>/*#__PURE__*/_jsx(MahjongTile,{tile:tile,size:\"small\",variant:\"recommended\"},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-green-800 mb-3\",children:\"\\uD83D\\uDCA1 \\u5206\\u6790\\u5EFA\\u8BAE\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:analysisResult.suggestions.map((suggestion,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-2 text-green-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 mt-0.5\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:suggestion})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-orange-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-orange-800 mb-3\",children:\"\\uD83D\\uDCC8 \\u5F03\\u724C\\u5206\\u6790\"}),renderDiscardScores()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-3\",children:\"\\uD83D\\uDD22 \\u5269\\u4F59\\u724C\\u7EDF\\u8BA1\"}),renderRemainingTiles()]})]}),!analysisResult&&!isAnalyzing&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium mb-2\",children:\"\\u667A\\u80FD\\u5206\\u6790\\u52A9\\u624B\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"\\u6DFB\\u52A0\\u624B\\u724C\\u540E\\u70B9\\u51FB\\\"\\u5F00\\u59CB\\u5206\\u6790\\\"\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u83B7\\u53D6\\u4E13\\u4E1A\\u7684\\u5F03\\u724C\\u5EFA\\u8BAE\\u548C\\u80E1\\u724C\\u6982\\u7387\"]})]})}),showDirectKongOperator&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsx(DirectKongOperator,{onClose:()=>setShowDirectKongOperator(false)})})})]});};export default AnalysisPanel;","map":{"version":3,"names":["React","useState","useGameStore","selectAnalysis","selectIsAnalyzing","MahjongAPI","codeToTile","TileType","MahjongTile","DirectKongOperator","jsx","_jsx","jsxs","_jsxs","AnalysisPanel","_ref","className","gameState","state","analysisResult","isAnalyzing","setAnalysisResult","setIsAnalyzing","error","setError","showDirectKongOperator","setShowDirectKongOperator","handleAnalyze","player_hands","tiles","length","response","analyzeGame","game_state","target_player","success","analysis","message","err","Error","renderRemainingTiles","remainingTiles","remaining_tiles_count","tileGroups","wan","tiao","tong","zi","Object","entries","forEach","_ref2","codeStr","count","code","parseInt","tile","item","type","WAN","push","TIAO","TONG","ZI","children","map","_ref3","typeNames","_ref4","size","variant","value","renderDiscardScores","discard_scores","scores","sort","_ref5","_ref6","a","b","slice","_ref7","index","tileStr","score","concat","style","width","Math","max","min","toFixed","onClick","title","disabled","recommended_discard","win_probability","listen_tiles","suggestions","suggestion","onClose"],"sources":["D:/codes/PocketFlow-Tutorial-Codebase-Knowledge/paul/mj/frontend/src/components/AnalysisPanel.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useGameStore, selectAnalysis, selectIsAnalyzing } from '../stores/gameStore';\nimport { MahjongAPI } from '../utils/api';\nimport { codeToTile, TileType } from '../types/mahjong';\nimport MahjongTile from './MahjongTile';\nimport DirectKongOperator from './DirectKongOperator';\n\ninterface AnalysisPanelProps {\n  className?: string;\n}\n\nconst AnalysisPanel: React.FC<AnalysisPanelProps> = ({ className }) => {\n  const gameState = useGameStore(state => state.gameState);\n  const analysisResult = useGameStore(selectAnalysis());\n  const isAnalyzing = useGameStore(selectIsAnalyzing());\n  const { setAnalysisResult, setIsAnalyzing } = useGameStore();\n  \n  const [error, setError] = useState<string | null>(null);\n  const [showDirectKongOperator, setShowDirectKongOperator] = useState(false);\n  \n  // 执行分析\n  const handleAnalyze = async () => {\n    if (gameState.player_hands[0].tiles.length === 0) {\n      setError('请先添加手牌');\n      return;\n    }\n    \n    setIsAnalyzing(true);\n    setError(null);\n    \n    try {\n      const response = await MahjongAPI.analyzeGame({\n        game_state: gameState,\n        target_player: 0\n      });\n      \n      if (response.success && response.analysis) {\n        setAnalysisResult(response.analysis);\n      } else {\n        setError(response.message || '分析失败');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : '分析失败');\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n  \n  // 渲染剩余牌统计\n  const renderRemainingTiles = () => {\n    if (!analysisResult) return null;\n    \n    const remainingTiles = analysisResult.remaining_tiles_count;\n    const tileGroups = {\n      wan: [] as Array<{ code: number; count: number; tile: any }>,\n      tiao: [] as Array<{ code: number; count: number; tile: any }>,\n      tong: [] as Array<{ code: number; count: number; tile: any }>,\n      zi: [] as Array<{ code: number; count: number; tile: any }>\n    };\n    \n    // 分组整理剩余牌\n    Object.entries(remainingTiles).forEach(([codeStr, count]) => {\n      const code = parseInt(codeStr);\n      if (count > 0) {\n        const tile = codeToTile(code);\n        const item = { code, count, tile };\n        \n        if (tile.type === TileType.WAN) {\n          tileGroups.wan.push(item);\n        } else if (tile.type === TileType.TIAO) {\n          tileGroups.tiao.push(item);\n        } else if (tile.type === TileType.TONG) {\n          tileGroups.tong.push(item);\n        } else if (tile.type === TileType.ZI) {\n          tileGroups.zi.push(item);\n        }\n      }\n    });\n    \n    return (\n      <div className=\"space-y-4\">\n        {Object.entries(tileGroups).map(([type, tiles]) => {\n          if (tiles.length === 0) return null;\n          \n          const typeNames = {\n            wan: '万子',\n            tiao: '条子',\n            tong: '筒子',\n            zi: '字牌'\n          };\n          \n          return (\n            <div key={type} className=\"bg-gray-50 rounded-lg p-3\">\n              <h4 className=\"text-sm font-medium text-gray-700 mb-2\">\n                {typeNames[type as keyof typeof typeNames]}\n              </h4>\n              <div className=\"flex flex-wrap gap-2\">\n                {tiles.map(({ tile, count }) => (\n                  <div key={tile.value} className=\"relative\">\n                    <MahjongTile tile={tile} size=\"small\" variant=\"disabled\" />\n                    <div className=\"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\">\n                      {count}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n  \n  // 渲染弃牌分数\n  const renderDiscardScores = () => {\n    if (!analysisResult?.discard_scores) return null;\n    \n    const scores = Object.entries(analysisResult.discard_scores)\n      .sort(([, a], [, b]) => b - a) // 按分数降序排列\n      .slice(0, 5); // 只显示前5个\n    \n    return (\n      <div className=\"space-y-2\">\n        {scores.map(([tileStr, score], index) => (\n          <div key={tileStr} className=\"flex justify-between items-center p-2 bg-gray-50 rounded\">\n            <span className=\"font-medium\">{tileStr}</span>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-20 bg-gray-200 rounded-full h-2\">\n                <div \n                  className={`h-2 rounded-full ${\n                    index === 0 ? 'bg-red-500' : \n                    index === 1 ? 'bg-orange-500' : \n                    'bg-gray-400'\n                  }`}\n                  style={{ width: `${Math.max(0, Math.min(100, (score + 10) * 5))}%` }}\n                />\n              </div>\n              <span className=\"text-sm text-gray-600 w-12 text-right\">\n                {score.toFixed(1)}\n              </span>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  };\n  \n  return (\n    <div className={`bg-white rounded-lg p-6 h-full flex flex-col ${className}`}>\n      {/* 标题和分析按钮 */}\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-2xl font-bold text-gray-800\">📊 智能分析</h2>\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => setShowDirectKongOperator(true)}\n              className=\"px-3 py-2 bg-red-500 text-white rounded-lg font-medium transition-all hover:bg-red-600 shadow-md hover:shadow-lg text-sm\"\n              title=\"直杠操作器\"\n            >\n              🀄 直杠\n            </button>\n            <button\n              onClick={handleAnalyze}\n              disabled={isAnalyzing}\n              className={`px-4 py-2 rounded-lg font-medium transition-all ${\n                isAnalyzing\n                  ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                  : 'bg-blue-500 text-white hover:bg-blue-600 shadow-md hover:shadow-lg'\n              }`}\n            >\n              {isAnalyzing ? (\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin\" />\n                  分析中...\n                </div>\n              ) : (\n                '开始分析'\n              )}\n            </button>\n          </div>\n        </div>\n        \n        {error && (\n          <div className=\"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded mb-4\">\n            {error}\n          </div>\n        )}\n      </div>\n      \n      {/* 分析结果 */}\n      {analysisResult && (\n        <div className=\"flex-1 space-y-6 overflow-y-auto\">\n          {/* 核心建议 */}\n          <div className=\"bg-blue-50 rounded-lg p-4\">\n            <h3 className=\"text-lg font-semibold text-blue-800 mb-3\">🎯 推荐建议</h3>\n            \n            {analysisResult.recommended_discard && (\n              <div className=\"mb-3\">\n                <span className=\"text-sm text-blue-600 font-medium\">建议弃牌：</span>\n                <div className=\"mt-1\">\n                  <MahjongTile \n                    tile={analysisResult.recommended_discard} \n                    variant=\"recommended\"\n                    size=\"medium\"\n                  />\n                </div>\n              </div>\n            )}\n            \n            <div className=\"mb-3\">\n              <span className=\"text-sm text-blue-600 font-medium\">胡牌概率：</span>\n              <div className=\"mt-1 flex items-center gap-2\">\n                <div className=\"flex-1 bg-gray-200 rounded-full h-3\">\n                  <div \n                    className=\"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-1000\"\n                    style={{ width: `${Math.min(100, analysisResult.win_probability * 100)}%` }}\n                  />\n                </div>\n                <span className=\"text-lg font-bold text-blue-800\">\n                  {(analysisResult.win_probability * 100).toFixed(1)}%\n                </span>\n              </div>\n            </div>\n            \n            {analysisResult.listen_tiles.length > 0 && (\n              <div>\n                <span className=\"text-sm text-blue-600 font-medium\">听牌：</span>\n                <div className=\"mt-1 flex gap-1\">\n                  {analysisResult.listen_tiles.map((tile, index) => (\n                    <MahjongTile \n                      key={index}\n                      tile={tile} \n                      size=\"small\"\n                      variant=\"recommended\"\n                    />\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {/* 建议列表 */}\n          <div className=\"bg-green-50 rounded-lg p-4\">\n            <h3 className=\"text-lg font-semibold text-green-800 mb-3\">💡 分析建议</h3>\n            <ul className=\"space-y-2\">\n              {analysisResult.suggestions.map((suggestion, index) => (\n                <li key={index} className=\"flex items-start gap-2 text-green-700\">\n                  <span className=\"text-green-500 mt-0.5\">•</span>\n                  <span className=\"text-sm\">{suggestion}</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n          \n          {/* 弃牌分数 */}\n          <div className=\"bg-orange-50 rounded-lg p-4\">\n            <h3 className=\"text-lg font-semibold text-orange-800 mb-3\">📈 弃牌分析</h3>\n            {renderDiscardScores()}\n          </div>\n          \n          {/* 剩余牌统计 */}\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-3\">🔢 剩余牌统计</h3>\n            {renderRemainingTiles()}\n          </div>\n        </div>\n      )}\n      \n      {/* 空状态 */}\n      {!analysisResult && !isAnalyzing && (\n        <div className=\"flex-1 flex items-center justify-center\">\n          <div className=\"text-center text-gray-500\">\n            <div className=\"text-6xl mb-4\">🎯</div>\n            <h3 className=\"text-lg font-medium mb-2\">智能分析助手</h3>\n            <p className=\"text-sm\">\n              添加手牌后点击\"开始分析\"<br />\n              获取专业的弃牌建议和胡牌概率\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* 直杠操作器弹窗 */}\n      {showDirectKongOperator && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n            <DirectKongOperator\n              onClose={() => setShowDirectKongOperator(false)}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AnalysisPanel; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}