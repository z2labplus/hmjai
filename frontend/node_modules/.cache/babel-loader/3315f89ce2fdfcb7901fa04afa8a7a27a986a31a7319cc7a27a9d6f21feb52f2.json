{"ast":null,"code":"var _jsxFileName = \"D:\\\\codes\\\\PocketFlow-Tutorial-Codebase-Knowledge\\\\paul\\\\mj\\\\frontend\\\\src\\\\components\\\\MahjongTable.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { motion } from 'framer-motion';\nimport { useGameStore, selectPlayerDiscardedTiles } from '../stores/gameStore';\nimport MahjongTile from './MahjongTile';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MahjongTable = ({\n  className\n}) => {\n  _s();\n  const player0Discards = useGameStore(selectPlayerDiscardedTiles(0));\n  const player1Discards = useGameStore(selectPlayerDiscardedTiles(1));\n  const player2Discards = useGameStore(selectPlayerDiscardedTiles(2));\n  const player3Discards = useGameStore(selectPlayerDiscardedTiles(3));\n  const playerNames = ['我', '下家', '对家', '上家'];\n  const playerColors = ['bg-blue-100 border-blue-300', 'bg-green-100 border-green-300', 'bg-red-100 border-red-300', 'bg-yellow-100 border-yellow-300'];\n  const renderDiscardArea = (playerId, discards, position) => {\n    const isVertical = position === 'left' || position === 'right';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${position === 'top' ? 'col-start-2 row-start-1' : position === 'bottom' ? 'col-start-2 row-start-3' : position === 'left' ? 'col-start-1 row-start-2' : 'col-start-3 row-start-2'} flex flex-col justify-center h-full`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `text-sm font-medium mb-2 text-center ${position === 'top' ? 'text-red-600' : position === 'left' ? 'text-green-600' : position === 'right' ? 'text-yellow-600' : 'text-blue-600'}`,\n        children: [playerNames[playerId], \" (\", discards.length, \"\\u5F20)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${playerColors[playerId]} rounded-lg p-3 border-2 border-dashed flex-1 ${isVertical ? 'min-w-16 max-w-20' : 'min-h-20 max-h-24'}`,\n        children: discards.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `h-full flex ${position === 'left' ? 'flex-col items-center justify-start' : position === 'right' ? 'flex-col items-center justify-start' : position === 'top' ? 'flex-row flex-wrap justify-center items-start' : 'flex-row flex-wrap justify-center items-start'} gap-1 overflow-hidden`,\n          children: discards.map((tile, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex-shrink-0 ${position === 'left' ? 'transform -rotate-90' : position === 'right' ? 'transform rotate-90' : ''}`,\n            children: /*#__PURE__*/_jsxDEV(MahjongTile, {\n              tile: tile,\n              size: \"tiny\",\n              variant: \"disabled\",\n              animationDelay: index * 0.02\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this)\n          }, `discard-${playerId}-${index}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `h-full flex items-center justify-center text-gray-500 text-xs ${isVertical ? 'transform -rotate-90' : ''}`,\n          children: \"\\u6682\\u65E0\\u5F03\\u724C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `w-full h-full min-h-96 bg-gradient-to-br from-green-800 to-green-900 rounded-3xl p-4 grid grid-cols-3 grid-rows-3 gap-2 ${className}`,\n    children: [renderDiscardArea(2, player2Discards, 'top'), renderDiscardArea(3, player3Discards, 'left'), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-start-2 row-start-2 flex items-center justify-center bg-white bg-opacity-10 rounded-2xl border-2 border-white border-opacity-20\",\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        animate: {\n          rotate: 360\n        },\n        transition: {\n          duration: 20,\n          repeat: Infinity,\n          ease: \"linear\"\n        },\n        className: \"text-6xl text-white opacity-30\",\n        children: \"\\uD83C\\uDC05\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), renderDiscardArea(1, player1Discards, 'right'), renderDiscardArea(0, player0Discards, 'bottom')]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n_s(MahjongTable, \"DlNd6qQtpNjJuAmGjY34HJ4B4N0=\", false, function () {\n  return [useGameStore, useGameStore, useGameStore, useGameStore];\n});\n_c = MahjongTable;\nexport default MahjongTable;\nvar _c;\n$RefreshReg$(_c, \"MahjongTable\");","map":{"version":3,"names":["React","motion","useGameStore","selectPlayerDiscardedTiles","MahjongTile","jsxDEV","_jsxDEV","MahjongTable","className","_s","player0Discards","player1Discards","player2Discards","player3Discards","playerNames","playerColors","renderDiscardArea","playerId","discards","position","isVertical","children","length","fileName","_jsxFileName","lineNumber","columnNumber","map","tile","index","size","variant","animationDelay","div","animate","rotate","transition","duration","repeat","Infinity","ease","_c","$RefreshReg$"],"sources":["D:/codes/PocketFlow-Tutorial-Codebase-Knowledge/paul/mj/frontend/src/components/MahjongTable.tsx"],"sourcesContent":["import React from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useGameStore, selectPlayerDiscardedTiles } from '../stores/gameStore';\r\nimport { Tile } from '../types/mahjong';\r\nimport MahjongTile from './MahjongTile';\r\n\r\ninterface MahjongTableProps {\r\n  className?: string;\r\n}\r\n\r\nconst MahjongTable: React.FC<MahjongTableProps> = ({ className }) => {\r\n  const player0Discards = useGameStore(selectPlayerDiscardedTiles(0));\r\n  const player1Discards = useGameStore(selectPlayerDiscardedTiles(1));\r\n  const player2Discards = useGameStore(selectPlayerDiscardedTiles(2));\r\n  const player3Discards = useGameStore(selectPlayerDiscardedTiles(3));\r\n\r\n  const playerNames = ['我', '下家', '对家', '上家'];\r\n  const playerColors = [\r\n    'bg-blue-100 border-blue-300',\r\n    'bg-green-100 border-green-300', \r\n    'bg-red-100 border-red-300',\r\n    'bg-yellow-100 border-yellow-300'\r\n  ];\r\n\r\n  const renderDiscardArea = (playerId: number, discards: Tile[], position: string) => {\r\n    const isVertical = position === 'left' || position === 'right';\r\n    \r\n    return (\r\n      <div className={`${position === 'top' ? 'col-start-2 row-start-1' : \r\n                       position === 'bottom' ? 'col-start-2 row-start-3' :\r\n                       position === 'left' ? 'col-start-1 row-start-2' :\r\n                       'col-start-3 row-start-2'} flex flex-col justify-center h-full`}>\r\n        <div className={`text-sm font-medium mb-2 text-center ${\r\n          position === 'top' ? 'text-red-600' : \r\n          position === 'left' ? 'text-green-600' :\r\n          position === 'right' ? 'text-yellow-600' :\r\n          'text-blue-600'\r\n        }`}>\r\n          {playerNames[playerId]} ({discards.length}张)\r\n        </div>\r\n        \r\n        <div className={`${playerColors[playerId]} rounded-lg p-3 border-2 border-dashed flex-1 ${\r\n          isVertical ? 'min-w-16 max-w-20' : 'min-h-20 max-h-24'\r\n        }`}>\r\n          {discards.length > 0 ? (\r\n            <div className={`h-full flex ${\r\n              position === 'left' ? 'flex-col items-center justify-start' :\r\n              position === 'right' ? 'flex-col items-center justify-start' :\r\n              position === 'top' ? 'flex-row flex-wrap justify-center items-start' :\r\n              'flex-row flex-wrap justify-center items-start'\r\n            } gap-1 overflow-hidden`}>\r\n              {discards.map((tile, index) => (\r\n                <div\r\n                  key={`discard-${playerId}-${index}`}\r\n                  className={`flex-shrink-0 ${\r\n                    position === 'left' ? 'transform -rotate-90' :\r\n                    position === 'right' ? 'transform rotate-90' :\r\n                    ''\r\n                  }`}\r\n                >\r\n                  <MahjongTile\r\n                    tile={tile}\r\n                    size=\"tiny\"\r\n                    variant=\"disabled\"\r\n                    animationDelay={index * 0.02}\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className={`h-full flex items-center justify-center text-gray-500 text-xs ${\r\n              isVertical ? 'transform -rotate-90' : ''\r\n            }`}>\r\n              暂无弃牌\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={`w-full h-full min-h-96 bg-gradient-to-br from-green-800 to-green-900 rounded-3xl p-4 grid grid-cols-3 grid-rows-3 gap-2 ${className}`}>\r\n      {/* 对家弃牌区（上方） */}\r\n      {renderDiscardArea(2, player2Discards, 'top')}\r\n      \r\n      {/* 上家弃牌区（左侧） */}\r\n      {renderDiscardArea(3, player3Discards, 'left')}\r\n      \r\n      {/* 中央区域 */}\r\n      <div className=\"col-start-2 row-start-2 flex items-center justify-center bg-white bg-opacity-10 rounded-2xl border-2 border-white border-opacity-20\">\r\n        <motion.div\r\n          animate={{ rotate: 360 }}\r\n          transition={{ duration: 20, repeat: Infinity, ease: \"linear\" }}\r\n          className=\"text-6xl text-white opacity-30\"\r\n        >\r\n          🀅\r\n        </motion.div>\r\n      </div>\r\n      \r\n      {/* 下家弃牌区（右侧） */}\r\n      {renderDiscardArea(1, player1Discards, 'right')}\r\n      \r\n      {/* 我的弃牌区（下方） */}\r\n      {renderDiscardArea(0, player0Discards, 'bottom')}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MahjongTable; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}