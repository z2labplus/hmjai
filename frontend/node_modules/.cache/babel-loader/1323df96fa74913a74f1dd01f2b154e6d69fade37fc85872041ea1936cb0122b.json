{"ast":null,"code":"var _jsxFileName = \"D:\\\\codes\\\\PocketFlow-Tutorial-Codebase-Knowledge\\\\paul\\\\mj\\\\frontend\\\\src\\\\components\\\\SourceIndicator.tsx\";\nimport React from 'react';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SourceIndicator = ({\n  sourcePlayer,\n  currentPlayer,\n  position,\n  showPlayerName = true,\n  className = ''\n}) => {\n  // 玩家位置映射\n  const playerPositions = ['下家', '右家', '上家', '左家'];\n  const playerNames = ['我', '下家', '对家', '上家'];\n\n  // 根据来源玩家和当前玩家计算相对方向\n  const getDirection = () => {\n    const diff = (sourcePlayer - currentPlayer + 4) % 4;\n    const directions = ['self', 'right', 'opposite', 'left'];\n    return directions[diff];\n  };\n\n  // 获取箭头方向的CSS类\n  const getArrowDirection = () => {\n    const direction = getDirection();\n    const arrowMap = {\n      'self': 'rotate-0',\n      // 指向自己（不应该出现）\n      'right': 'rotate-90',\n      // 右箭头\n      'opposite': 'rotate-180',\n      // 上箭头  \n      'left': 'rotate-270' // 左箭头\n    };\n    return arrowMap[direction] || 'rotate-0';\n  };\n\n  // 获取来源玩家的显示名称\n  const getSourcePlayerName = () => {\n    if (sourcePlayer === currentPlayer) return '自己';\n    return playerNames[sourcePlayer] || `玩家${sourcePlayer + 1}`;\n  };\n\n  // 获取提示文本\n  const getTooltipText = () => {\n    const sourceName = getSourcePlayerName();\n    return `杠了 ${sourceName} 的弃牌`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `source-indicator relative ${className}`,\n    children: [/*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"absolute -top-2 -left-2 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center shadow-lg z-30\",\n      initial: {\n        scale: 0\n      },\n      animate: {\n        scale: 1\n      },\n      transition: {\n        delay: 0.2,\n        type: \"spring\",\n        stiffness: 200\n      },\n      title: getTooltipText(),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-0 h-0 border-l-[3px] border-r-[3px] border-b-[4px] border-l-transparent border-r-transparent border-b-white transform ${getArrowDirection()}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), showPlayerName && /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"absolute -top-8 -left-4 bg-red-600 text-white text-xs px-2 py-1 rounded shadow-lg z-20 whitespace-nowrap\",\n      initial: {\n        opacity: 0,\n        y: 5\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        delay: 0.4\n      },\n      children: [getSourcePlayerName(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-2 border-r-2 border-t-2 border-transparent border-t-red-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"absolute top-0 left-0 w-1 h-1 bg-red-400 rounded-full\",\n      animate: {\n        scale: [1, 2, 1],\n        opacity: [0.8, 0.4, 0.8]\n      },\n      transition: {\n        duration: 2,\n        repeat: Infinity,\n        ease: \"easeInOut\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_c = SourceIndicator;\nexport default SourceIndicator;\nvar _c;\n$RefreshReg$(_c, \"SourceIndicator\");","map":{"version":3,"names":["React","motion","jsxDEV","_jsxDEV","SourceIndicator","sourcePlayer","currentPlayer","position","showPlayerName","className","playerPositions","playerNames","getDirection","diff","directions","getArrowDirection","direction","arrowMap","getSourcePlayerName","getTooltipText","sourceName","children","div","initial","scale","animate","transition","delay","type","stiffness","title","fileName","_jsxFileName","lineNumber","columnNumber","opacity","y","duration","repeat","Infinity","ease","_c","$RefreshReg$"],"sources":["D:/codes/PocketFlow-Tutorial-Codebase-Knowledge/paul/mj/frontend/src/components/SourceIndicator.tsx"],"sourcesContent":["import React from 'react';\r\nimport { motion } from 'framer-motion';\r\n\r\ninterface SourceIndicatorProps {\r\n  sourcePlayer: number;\r\n  currentPlayer: number;\r\n  position: 'bottom' | 'right' | 'top' | 'left';\r\n  showPlayerName?: boolean;\r\n  className?: string;\r\n}\r\n\r\nconst SourceIndicator: React.FC<SourceIndicatorProps> = ({ \r\n  sourcePlayer, \r\n  currentPlayer, \r\n  position,\r\n  showPlayerName = true,\r\n  className = ''\r\n}) => {\r\n  // 玩家位置映射\r\n  const playerPositions = ['下家', '右家', '上家', '左家'];\r\n  const playerNames = ['我', '下家', '对家', '上家'];\r\n  \r\n  // 根据来源玩家和当前玩家计算相对方向\r\n  const getDirection = (): string => {\r\n    const diff = (sourcePlayer - currentPlayer + 4) % 4;\r\n    const directions = ['self', 'right', 'opposite', 'left'] as const;\r\n    return directions[diff];\r\n  };\r\n\r\n  // 获取箭头方向的CSS类\r\n  const getArrowDirection = (): string => {\r\n    const direction = getDirection();\r\n    const arrowMap = {\r\n      'self': 'rotate-0',      // 指向自己（不应该出现）\r\n      'right': 'rotate-90',    // 右箭头\r\n      'opposite': 'rotate-180', // 上箭头  \r\n      'left': 'rotate-270'     // 左箭头\r\n    };\r\n    return arrowMap[direction] || 'rotate-0';\r\n  };\r\n\r\n  // 获取来源玩家的显示名称\r\n  const getSourcePlayerName = (): string => {\r\n    if (sourcePlayer === currentPlayer) return '自己';\r\n    return playerNames[sourcePlayer] || `玩家${sourcePlayer + 1}`;\r\n  };\r\n\r\n  // 获取提示文本\r\n  const getTooltipText = (): string => {\r\n    const sourceName = getSourcePlayerName();\r\n    return `杠了 ${sourceName} 的弃牌`;\r\n  };\r\n\r\n  return (\r\n    <div className={`source-indicator relative ${className}`}>\r\n      {/* 主要箭头指示器 */}\r\n      <motion.div\r\n        className=\"absolute -top-2 -left-2 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center shadow-lg z-30\"\r\n        initial={{ scale: 0 }}\r\n        animate={{ scale: 1 }}\r\n        transition={{ delay: 0.2, type: \"spring\", stiffness: 200 }}\r\n        title={getTooltipText()}\r\n      >\r\n        <div className={`w-0 h-0 border-l-[3px] border-r-[3px] border-b-[4px] border-l-transparent border-r-transparent border-b-white transform ${getArrowDirection()}`} />\r\n      </motion.div>\r\n\r\n      {/* 玩家名称标签 */}\r\n      {showPlayerName && (\r\n        <motion.div\r\n          className=\"absolute -top-8 -left-4 bg-red-600 text-white text-xs px-2 py-1 rounded shadow-lg z-20 whitespace-nowrap\"\r\n          initial={{ opacity: 0, y: 5 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.4 }}\r\n        >\r\n          {getSourcePlayerName()}\r\n          {/* 小三角箭头 */}\r\n          <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-2 border-r-2 border-t-2 border-transparent border-t-red-600\" />\r\n        </motion.div>\r\n      )}\r\n\r\n      {/* 连接线动画 */}\r\n      <motion.div\r\n        className=\"absolute top-0 left-0 w-1 h-1 bg-red-400 rounded-full\"\r\n        animate={{\r\n          scale: [1, 2, 1],\r\n          opacity: [0.8, 0.4, 0.8]\r\n        }}\r\n        transition={{\r\n          duration: 2,\r\n          repeat: Infinity,\r\n          ease: \"easeInOut\"\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SourceIndicator; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}