{"ast":null,"code":"import React from'react';import{motion}from'framer-motion';import{useGameStore,selectPlayerHand}from'../stores/gameStore';import{MeldType,GangType,calculateRemainingTiles}from'../types/mahjong';import MahjongTile from'./MahjongTile';import SimpleSourceIndicator from'./SimpleSourceIndicator';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MahjongTable=_ref=>{let{className,cardBackStyle='elegant'}=_ref;const gameState=useGameStore(state=>state.gameState);const player0Hand=useGameStore(selectPlayerHand(0));const player1Hand=useGameStore(selectPlayerHand(1));const player2Hand=useGameStore(selectPlayerHand(2));const player3Hand=useGameStore(selectPlayerHand(3));const player0Discards=useGameStore(state=>{var _state$gameState$play;return((_state$gameState$play=state.gameState.player_discarded_tiles)===null||_state$gameState$play===void 0?void 0:_state$gameState$play[0])||[];});const player1Discards=useGameStore(state=>{var _state$gameState$play2;return((_state$gameState$play2=state.gameState.player_discarded_tiles)===null||_state$gameState$play2===void 0?void 0:_state$gameState$play2[1])||[];});const player2Discards=useGameStore(state=>{var _state$gameState$play3;return((_state$gameState$play3=state.gameState.player_discarded_tiles)===null||_state$gameState$play3===void 0?void 0:_state$gameState$play3[2])||[];});const player3Discards=useGameStore(state=>{var _state$gameState$play4;return((_state$gameState$play4=state.gameState.player_discarded_tiles)===null||_state$gameState$play4===void 0?void 0:_state$gameState$play4[3])||[];});const remainingTiles=calculateRemainingTiles(gameState);const playerNames=['我','下家','对家','上家'];const playerColors=['bg-blue-50 border-blue-200','bg-green-50 border-green-200','bg-red-50 border-red-200','bg-yellow-50 border-yellow-200'];// 展示顺序：上家、我、下家、对家\nconst displayOrder=[3,0,1,2];// 渲染弃牌组（不换行，一行显示）\nconst renderDiscardGroup=(tiles,prefix)=>{if(tiles.length===0)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-0\",children:tiles.map((tile,index)=>/*#__PURE__*/_jsx(MahjongTile,{tile:tile,size:\"tiny\",variant:\"disabled\",seamless:true,animationDelay:index*0.01,cardBackStyle:cardBackStyle},\"\".concat(prefix,\"-discard-\").concat(index)))});};// 渲染单个玩家区域\nconst renderPlayerArea=playerId=>{const hand=[player0Hand,player1Hand,player2Hand,player3Hand][playerId];const discards=[player0Discards,player1Discards,player2Discards,player3Discards][playerId];return/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 rounded-lg p-4 \".concat(playerColors[playerId],\" transition-all duration-200 hover:shadow-md\"),style:{height:'140px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-800\",children:playerNames[playerId]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"(\\u624B\\u724C: \",hand.tiles.length,\" | \\u78B0\\u6760: \",hand.melds.length,\" | \\u5F03\\u724C: \",discards.length]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{height:'80px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'flex-end',gap:'20px'},children:[hand.tiles.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex'},children:hand.tiles.map((tile,index)=>/*#__PURE__*/_jsx(MahjongTile,{tile:tile,size:\"small\",variant:playerId===0?\"default\":\"back\",seamless:true,cardBackStyle:cardBackStyle},\"player-\".concat(playerId,\"-hand-\").concat(index)))}),hand.melds.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'flex-end'},children:hand.melds.map((meld,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"relative\",style:{display:'flex',alignItems:'flex-end',backgroundColor:'rgba(255,255,255,0.8)',padding:'0px 2px',borderRadius:'1px',border:'0px solid rgba(0,0,0,0.1)'},children:meld.tiles.map((tile,tileIndex)=>{// 暗杠显示逻辑\nlet variant='default';let additionalClassName='';if(meld.type===MeldType.GANG&&meld.gang_type===GangType.AN_GANG){if(playerId===0){// 我的暗杠：所有4张牌都显示为disabled样式\nvariant='disabled';}else{// 其他玩家的暗杠：全部显示背面\nvariant='back';}}else if(meld.type===MeldType.GANG&&meld.gang_type===GangType.JIA_GANG){// 加杠显示逻辑：前3张正常显示，最后一张使用横向disabled样式\nif(tileIndex===3){variant='selected';}else{variant='default';}}else if(meld.type===MeldType.GANG&&meld.gang_type===GangType.MING_GANG){// 直杠显示逻辑：前3张正常显示，第4张使用横向选中样式\nif(tileIndex===3){variant='selected';}else{variant='default';}}return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(MahjongTile,{tile:tile,size:\"small\",variant:variant,seamless:true,className:additionalClassName,cardBackStyle:cardBackStyle}),meld.type===MeldType.GANG&&meld.gang_type===GangType.MING_GANG&&tileIndex===3&&meld.source_player!==undefined&&/*#__PURE__*/_jsx(SimpleSourceIndicator,{sourcePlayer:meld.source_player,currentPlayer:playerId,className:\"absolute -top-1 -right-1\"})]},\"meld-tile-\".concat(index,\"-\").concat(tileIndex));})},\"meld-\".concat(index)))})]})}),/*#__PURE__*/_jsx(\"div\",{children:renderDiscardGroup(discards,\"player-\".concat(playerId))})]})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-2 \".concat(className),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800\",children:\"\\u8840\\u6218\\u5230\\u5E95\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-sm border\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"\\u5269\\u4F59\\u724C\\u6570:\"}),/*#__PURE__*/_jsx(motion.div,{animate:{scale:[1,1.05,1]},transition:{duration:3,repeat:Infinity,ease:\"easeInOut\"},className:\"text-xl font-bold text-green-600\",children:remainingTiles})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:displayOrder.map(playerId=>/*#__PURE__*/_jsx(\"div\",{children:renderPlayerArea(playerId)},\"player-\".concat(playerId)))})]});};export default MahjongTable;","map":{"version":3,"names":["React","motion","useGameStore","selectPlayerHand","MeldType","GangType","calculateRemainingTiles","MahjongTile","SimpleSourceIndicator","jsx","_jsx","jsxs","_jsxs","MahjongTable","_ref","className","cardBackStyle","gameState","state","player0Hand","player1Hand","player2Hand","player3Hand","player0Discards","_state$gameState$play","player_discarded_tiles","player1Discards","_state$gameState$play2","player2Discards","_state$gameState$play3","player3Discards","_state$gameState$play4","remainingTiles","playerNames","playerColors","displayOrder","renderDiscardGroup","tiles","prefix","length","children","map","tile","index","size","variant","seamless","animationDelay","concat","renderPlayerArea","playerId","hand","discards","style","height","melds","display","alignItems","gap","meld","backgroundColor","padding","borderRadius","border","tileIndex","additionalClassName","type","GANG","gang_type","AN_GANG","JIA_GANG","MING_GANG","source_player","undefined","sourcePlayer","currentPlayer","div","animate","scale","transition","duration","repeat","Infinity","ease"],"sources":["D:/codes/PocketFlow-Tutorial-Codebase-Knowledge/paul/mj/frontend/src/components/MahjongTable.tsx"],"sourcesContent":["import React from 'react';\nimport { motion } from 'framer-motion';\nimport { useGameStore, selectPlayerHand } from '../stores/gameStore';\nimport { Tile, MeldType, GangType, calculateRemainingTiles } from '../types/mahjong';\nimport MahjongTile from './MahjongTile';\nimport SimpleSourceIndicator from './SimpleSourceIndicator';\nimport { CardBackStyle } from './MahjongTile';\n\ninterface MahjongTableProps {\n  className?: string;\n  cardBackStyle?: CardBackStyle;\n}\n\nconst MahjongTable: React.FC<MahjongTableProps> = ({ className, cardBackStyle = 'elegant' }) => {\n  const gameState = useGameStore(state => state.gameState);\n  const player0Hand = useGameStore(selectPlayerHand(0));\n  const player1Hand = useGameStore(selectPlayerHand(1));\n  const player2Hand = useGameStore(selectPlayerHand(2));\n  const player3Hand = useGameStore(selectPlayerHand(3));\n  \n  const player0Discards = useGameStore(state => state.gameState.player_discarded_tiles?.[0] || []);\n  const player1Discards = useGameStore(state => state.gameState.player_discarded_tiles?.[1] || []);\n  const player2Discards = useGameStore(state => state.gameState.player_discarded_tiles?.[2] || []);\n  const player3Discards = useGameStore(state => state.gameState.player_discarded_tiles?.[3] || []);\n\n  const remainingTiles = calculateRemainingTiles(gameState);\n  const playerNames = ['我', '下家', '对家', '上家'];\n  const playerColors = ['bg-blue-50 border-blue-200', 'bg-green-50 border-green-200', 'bg-red-50 border-red-200', 'bg-yellow-50 border-yellow-200'];\n  \n  // 展示顺序：上家、我、下家、对家\n  const displayOrder = [3, 0, 1, 2];\n\n  // 渲染弃牌组（不换行，一行显示）\n  const renderDiscardGroup = (tiles: Tile[], prefix: string) => {\n    if (tiles.length === 0) return null;\n    \n    return (\n      <div className=\"flex gap-0\">\n        {tiles.map((tile: Tile, index: number) => (\n          <MahjongTile\n            key={`${prefix}-discard-${index}`}\n            tile={tile}\n            size=\"tiny\"\n            variant=\"disabled\"\n            seamless={true}\n            animationDelay={index * 0.01}\n            cardBackStyle={cardBackStyle}\n          />\n        ))}\n      </div>\n    );\n  };\n\n  // 渲染单个玩家区域\n  const renderPlayerArea = (playerId: number) => {\n    const hand = [player0Hand, player1Hand, player2Hand, player3Hand][playerId];\n    const discards = [player0Discards, player1Discards, player2Discards, player3Discards][playerId];\n    \n    return (\n      <div className={`border-2 rounded-lg p-4 ${playerColors[playerId]} transition-all duration-200 hover:shadow-md`} style={{ height: '140px', }}>\n        {/* 玩家名称和统计信息 */}\n        <div className=\"flex items-center justify-between mb-1\">\n          <div className=\"flex items-center gap-2\">\n            <h3 className=\"text-lg font-bold text-gray-800\">{playerNames[playerId]}</h3>\n            <div className=\"text-sm text-gray-600\">\n              (手牌: {hand.tiles.length} | 碰杠: {hand.melds.length} | 弃牌: {discards.length}\n            </div>\n          </div>\n        </div>\n\n        {/* 内容区域 - 可滚动 */}\n        <div style={{ height: '80px', }}>\n          {/* 手牌和碰杠牌 - 分开显示，手牌与碰杠牌间有较大间距(gap-4) */}\n          <div className=\"mb-1\">\n            <div style={{ display: 'flex', alignItems: 'flex-end', gap: '20px'}}>\n              {/* 手牌区域 */}\n              {hand.tiles.length > 0 && (\n                <div style={{ display: 'flex' }}>\n                  {hand.tiles.map((tile: Tile, index: number) => (\n                    <MahjongTile\n                      key={`player-${playerId}-hand-${index}`}\n                      tile={tile}\n                      size=\"small\"\n                      variant={playerId === 0 ? \"default\" : \"back\"}\n                      seamless={true}\n                      cardBackStyle={cardBackStyle}\n                    />\n                  ))}\n                </div>\n              )}\n              \n              {/* 碰牌杠牌区域 - 组间有小间隙(gap-2) */}\n              {hand.melds.length > 0 && (\n                <div style={{ display: 'flex', alignItems: 'flex-end' }}>\n                  {hand.melds.map((meld, index) => (\n                    <div key={`meld-${index}`} className=\"relative\" style={{ \n                      display: 'flex', \n                      alignItems: 'flex-end',\n                      backgroundColor: 'rgba(255,255,255,0.8)', \n                      padding: '0px 2px', \n                      borderRadius: '1px', \n                      border: '0px solid rgba(0,0,0,0.1)' \n                    }}>\n                      {meld.tiles.map((tile: Tile, tileIndex: number) => {\n                        // 暗杠显示逻辑\n                        let variant: 'default' | 'selected' | 'selectedHorizontal' | 'recommended' | 'disabled' | 'disabledHorizontal' | 'back' = 'default';\n                        let additionalClassName = '';\n                        \n                        if (meld.type === MeldType.GANG && meld.gang_type === GangType.AN_GANG) {\n                          if (playerId === 0) {\n                            // 我的暗杠：所有4张牌都显示为disabled样式\n                            variant = 'disabled';\n                          } else {\n                            // 其他玩家的暗杠：全部显示背面\n                            variant = 'back';\n                          }\n                        } else if (meld.type === MeldType.GANG && meld.gang_type === GangType.JIA_GANG) {\n                          // 加杠显示逻辑：前3张正常显示，最后一张使用横向disabled样式\n                          if (tileIndex === 3) {\n                            variant = 'selected';\n                          } else {\n                            variant = 'default';\n                          }\n                        } else if (meld.type === MeldType.GANG && meld.gang_type === GangType.MING_GANG) {\n                          // 直杠显示逻辑：前3张正常显示，第4张使用横向选中样式\n                          if (tileIndex === 3) {\n                            variant = 'selected';\n                          } else {\n                            variant = 'default';\n                          }\n                        }\n                        \n                        return (\n                          <div key={`meld-tile-${index}-${tileIndex}`} className=\"relative\">\n                            <MahjongTile\n                              tile={tile}\n                              size=\"small\"\n                              variant={variant}\n                              seamless={true}\n                              className={additionalClassName}\n                              cardBackStyle={cardBackStyle}\n                            />\n                            \n                            {/* 明杠来源指示器 - 只在第4张牌上显示 */}\n                            {meld.type === MeldType.GANG && \n                             meld.gang_type === GangType.MING_GANG && \n                             tileIndex === 3 && \n                             meld.source_player !== undefined && (\n                              <SimpleSourceIndicator\n                                sourcePlayer={meld.source_player}\n                                currentPlayer={playerId}\n                                className=\"absolute -top-1 -right-1\"\n                              />\n                            )}\n                          </div>\n                        );\n                      })}\n                    </div>\n                  ))}\n                </div>\n              )}\n              \n            </div>\n          </div>\n\n          {/* 弃牌 */}\n          <div>\n            {renderDiscardGroup(discards, `player-${playerId}`)}\n          </div>\n        </div>\n\n      </div>\n    );\n  };\n\n  return (\n    <div className={`bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-2 ${className}`}>\n      {/* 标题和剩余牌数 - 同一行显示 */}\n      <div className=\"flex items-center justify-between mb-1\">\n        <h2 className=\"text-2xl font-bold text-gray-800\">血战到底</h2>\n        <div className=\"flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-sm border\">\n          <span className=\"text-sm text-gray-600\">剩余牌数:</span>\n          <motion.div\n            animate={{ scale: [1, 1.05, 1] }}\n            transition={{ duration: 3, repeat: Infinity, ease: \"easeInOut\" }}\n            className=\"text-xl font-bold text-green-600\"\n          >\n            {remainingTiles}\n          </motion.div>\n        </div>\n      </div>\n\n      {/* 玩家区域 - 单列布局，按顺序：上家、我、下家、对家 */}\n      <div className=\"space-y-1\">\n        {displayOrder.map((playerId) => (\n          <div key={`player-${playerId}`}>\n            {renderPlayerArea(playerId)}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default MahjongTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}